# Sway config file
# ArseLinuxOS - Wayland/Sway configuration
#
# Read `man 5 sway` for a complete reference.

### Variables
set $mod Mod4
set $term alacritty
set $menu wofi --show drun

# Default colors
set $bg #282828
set $fg #ebdbb2
set $focused #458588
set $unfocused #665c54
set $urgent #cc241d

### Output configuration
# Wallpaper
output * bg ~/Pictures/wallpaper.jpg fill

# Example output config (uncomment and modify as needed):
# output HDMI-A-1 resolution 1920x1080 position 0,0

### Idle configuration
exec swayidle -w \
    timeout 300 'swaylock -f -c 000000' \
    timeout 600 'swaymsg "output * power off"' resume 'swaymsg "output * power on"' \
    before-sleep 'swaylock -f -c 000000'

### Input configuration
# Touchpad configuration
input type:touchpad {
    tap enabled
    natural_scroll enabled
    drag enabled
    dwt enabled
    middle_emulation enabled
}

# Keyboard configuration
input type:keyboard {
    xkb_layout "gb"
}

### Key bindings
# Basics:
    # Start a terminal
    bindsym $mod+Return exec $term

    # Kill focused window
    bindsym $mod+q kill

    # Start launcher
    bindsym $mod+d exec $menu

    # Drag floating windows by holding down $mod and left mouse button.
    # Resize them with right mouse button + $mod.
    floating_modifier $mod normal

    # Reload the configuration file
    bindsym $mod+Shift+c reload

    # Exit sway (logs you out of your Wayland session)
    bindsym $mod+Shift+e exec swaynag -t warning -m 'Exit sway? This will end your Wayland session.' -B 'Yes, exit sway' 'swaymsg exit'

    # Lock screen
    bindsym $mod+z exec swaylock -f -c 000000

# Moving around:
    # Move focus with $mod+hjkl (vim-style)
    bindsym $mod+j focus left
    bindsym $mod+k focus down
    bindsym $mod+l focus up
    bindsym $mod+semicolon focus right

    # Or use arrow keys
    bindsym $mod+Left focus left
    bindsym $mod+Down focus down
    bindsym $mod+Up focus up
    bindsym $mod+Right focus right

    # Move focused window with $mod+Shift+hjkl
    bindsym $mod+Shift+j move left
    bindsym $mod+Shift+k move down
    bindsym $mod+Shift+l move up
    bindsym $mod+Shift+semicolon move right

    # Or use arrow keys
    bindsym $mod+Shift+Left move left
    bindsym $mod+Shift+Down move down
    bindsym $mod+Shift+Up move up
    bindsym $mod+Shift+Right move right

# Workspaces:
    set $ws1 "1"
    set $ws2 "2"
    set $ws3 "3"
    set $ws4 "4"
    set $ws5 "5"
    set $ws6 "6"
    set $ws7 "7"
    set $ws8 "8"
    set $ws9 "9"
    set $ws10 "10"

    # Switch to workspace
    bindsym $mod+1 workspace number $ws1
    bindsym $mod+2 workspace number $ws2
    bindsym $mod+3 workspace number $ws3
    bindsym $mod+4 workspace number $ws4
    bindsym $mod+5 workspace number $ws5
    bindsym $mod+6 workspace number $ws6
    bindsym $mod+7 workspace number $ws7
    bindsym $mod+8 workspace number $ws8
    bindsym $mod+9 workspace number $ws9
    bindsym $mod+0 workspace number $ws10

    # Move focused container to workspace
    bindsym $mod+Shift+1 move container to workspace number $ws1
    bindsym $mod+Shift+2 move container to workspace number $ws2
    bindsym $mod+Shift+3 move container to workspace number $ws3
    bindsym $mod+Shift+4 move container to workspace number $ws4
    bindsym $mod+Shift+5 move container to workspace number $ws5
    bindsym $mod+Shift+6 move container to workspace number $ws6
    bindsym $mod+Shift+7 move container to workspace number $ws7
    bindsym $mod+Shift+8 move container to workspace number $ws8
    bindsym $mod+Shift+9 move container to workspace number $ws9
    bindsym $mod+Shift+0 move container to workspace number $ws10

# Layout:
    # Split orientation
    bindsym $mod+h splith
    bindsym $mod+v splitv

    # Switch layout style
    bindsym $mod+s layout stacking
    bindsym $mod+w layout tabbed
    bindsym $mod+e layout toggle split

    # Fullscreen
    bindsym $mod+f fullscreen toggle

    # Toggle floating
    bindsym $mod+Shift+space floating toggle

    # Focus between floating/tiling
    bindsym $mod+space focus mode_toggle

    # Focus parent container
    bindsym $mod+a focus parent

# Scratchpad:
    bindsym $mod+Shift+minus move scratchpad
    bindsym $mod+minus scratchpad show

# Resizing containers:
mode "resize" {
    bindsym j resize shrink width 10px
    bindsym k resize grow height 10px
    bindsym l resize shrink height 10px
    bindsym semicolon resize grow width 10px

    bindsym Left resize shrink width 10px
    bindsym Down resize grow height 10px
    bindsym Up resize shrink height 10px
    bindsym Right resize grow width 10px

    bindsym Return mode "default"
    bindsym Escape mode "default"
    bindsym $mod+r mode "default"
}
bindsym $mod+r mode "resize"

# Media keys
bindsym XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +5%
bindsym XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -5%
bindsym XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle
bindsym XF86AudioMicMute exec pactl set-source-mute @DEFAULT_SOURCE@ toggle
bindsym XF86MonBrightnessDown exec brightnessctl set 5%-
bindsym XF86MonBrightnessUp exec brightnessctl set +5%

# Screenshot bindings
bindsym Print exec grim ~/Pictures/screenshot-$(date +%Y%m%d-%H%M%S).png
bindsym $mod+Print exec grim -g "$(slurp)" ~/Pictures/screenshot-$(date +%Y%m%d-%H%M%S).png

### Window decoration
font pango:monospace 8

# Window colors
#                       border      bg          text    indicator   child_border
client.focused          $focused    $focused    $fg     $focused    $focused
client.focused_inactive $unfocused  $unfocused  $fg     $unfocused  $unfocused
client.unfocused        $unfocused  $unfocused  $fg     $unfocused  $unfocused
client.urgent           $urgent     $urgent     $fg     $urgent     $urgent

# Gaps (optional, uncomment if desired)
# gaps inner 5
# gaps outer 5

# Border style
default_border pixel 2
default_floating_border pixel 2

### Autostart
exec waybar
exec mako
exec nm-applet --indicator

# XDG autostart
exec dex --autostart --environment sway

### Status bar (using waybar instead)
# bar {
#     position top
#     status_command while date +'%Y-%m-%d %H:%M:%S'; do sleep 1; done
#     colors {
#         statusline #ffffff
#         background #323232
#         inactive_workspace #32323200 #32323200 #5c5c5c
#     }
# }

include /etc/sway/config.d/*
